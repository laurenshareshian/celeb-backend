DROP TABLE IF EXISTS matches;
DROP TABLE IF EXISTS preferences;
DROP TABLE IF EXISTS profile;
DROP TABLE IF EXISTS login;
DROP TABLE IF EXISTS dummy_matches;

CREATE TABLE dummy_matches (
  id SERIAL UNIQUE,
  first_name varchar(45),
  last_name varchar(45)
);
INSERT INTO dummy_matches (first_name, last_name) VALUES ('Romeo', 'Doe');
INSERT INTO dummy_matches (first_name, last_name) VALUES ('Juliet', 'Smith');

CREATE TABLE login (
  email_id SERIAL UNIQUE,
  email varchar(45),
  password varchar(45)
);

INSERT INTO login (email, password) VALUES ('admin', 'admin');
INSERT INTO login (email, password) VALUES ('lauren', 'lauren');
INSERT INTO login (email, password) VALUES ('greg', 'greg');
INSERT INTO login (email, password) VALUES ('tk', 'tk');

CREATE TABLE profile (
  profile_id SERIAL UNIQUE,
  name varchar(45),
  age int,
  gender varchar(45),
  celeb_status varchar(45),
  bio varchar(45),
  fk_email_id int,
  FOREIGN KEY (fk_email_id) REFERENCES login (email_id));

INSERT INTO profile (name, age, gender, celeb_status, bio, fk_email_id) VALUES ('admin_name', 15, 'M', 'Really Famous', 'I read good.', 1);
INSERT INTO profile (name, age, gender, celeb_status, bio, fk_email_id) VALUES ('laurens', 37, 'F', 'Famous for being infamous', 'Long walks on the beach', 2);
INSERT INTO profile (name, age, gender, celeb_status, bio, fk_email_id) VALUES ('greg b', 0, 'M', 'TBD', 'TBD', 3);
INSERT INTO profile (name, age, gender, celeb_status, bio, fk_email_id) VALUES ('taekyoung kim', 0, 'M', 'TBD', 'TBD', 4);

CREATE TABLE preferences (
  preferences_id SERIAL UNIQUE,
  age_min int,
  age_max int,
  gender varchar(45),
  fk_profile_id int NOT NULL,
  FOREIGN KEY (fk_profile_id) REFERENCES profile (profile_id)
);

INSERT INTO preferences (age_min, age_max, gender, fk_profile_id) VALUES (30, 35, 'F', 1);
INSERT INTO preferences (age_min, age_max, gender, fk_profile_id) VALUES (20, 55, 'M', 2);
INSERT INTO preferences (age_min, age_max, gender, fk_profile_id) VALUES (40, 50, 'F', 3);
INSERT INTO preferences (age_min, age_max, gender, fk_profile_id) VALUES (20, 25, 'F', 4);
CREATE TABLE matches (
  fk_profile_id int NOT NULL,
  fk_dream_profile_id int NOT NULL,
  FOREIGN KEY (fk_profile_id) REFERENCES profile (profile_id),
  FOREIGN KEY (fk_dream_profile_id) REFERENCES profile (profile_id),
  message_to_dream_profile varchar(45)
);

INSERT INTO matches (fk_profile_id, fk_dream_profile_id, message_to_dream_profile) VALUES (1, 2, 'hi');
INSERT INTO matches (fk_profile_id, fk_dream_profile_id, message_to_dream_profile) VALUES (1, 3, 'bye');
INSERT INTO matches (fk_profile_id, fk_dream_profile_id, message_to_dream_profile) VALUES (2, 4, 'yo');
INSERT INTO matches (fk_profile_id, fk_dream_profile_id, message_to_dream_profile) VALUES (3, 4, 'hey');
INSERT INTO matches (fk_profile_id, fk_dream_profile_id, message_to_dream_profile) VALUES (4, 3, 'hola');

heroku config:add JAVA_HOME=/usr/lib/jvm/java-11-openjdk-devel
